<!DOCTYPE html>
<html>
<head>
  <title>Student</title>

 <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body {
        font-family: Arial, Helvetica, sans-serif;
      }
      form {
        border: 3px solid #f1f1f1;
      }

     
      button {
        background-color: #4caf50;
        color: white;
        padding: 14px 20px;
        margin: 8px 0;
        border: none;
        cursor: pointer;
        width: 50%;
      }

      button:hover {
        opacity: 0.8;
      }
</style>  
</head>
<body>
 
<div align="center" >
    <button type="Submit" id="insertbtn" name="insertbtn">INSERT</button>
    <br>
    <button type="Submit" id="listbtn">LIST</button>
    <br>
    <button type="Submit" id="updatebtn">UPDATE</button>
    <br>
</div>

<div id="output" style="margin-top:50px;" > 

<table id ='tableid', border = 1>



</table>
  
</div>

<script>
    document.getElementById('listbtn').addEventListener('click',list);


     

    function list(){

      const url ="https://ugly-cobra-39.telebit.io/student/"
          const header = {
        Accept: 'application/json',
       
      };
    
      let fetchData = {
        method: 'GET',
        headers: header
      };

       var student='';
      fetch(url, fetchData)
      .then((response)=>{return response.json()})
      .then(data => {
         let table = document.getElementById('tableid');
         let row = table.insertRow(0);
       
        column_values= data.response.column_names;

        fields = data.response.fields;  
        for ( i =column_values.length-1; i>=0; i--){
          student = '<th> '+column_values[i]+'</th>';
          let cell = row.insertCell(0);
          cell.innerHTML = student;
          // cell.innerHTML=faculty;
        }

        for ( i = 0; i<fields.length;i++){
            let row = table.insertRow(i+1);

            for( j=fields[i].length -1 ; j>=0 ;j){
              let cell = row.insertCell(0);

              student = '<td>' + fields[i][j] + '</td>';

              cell.innerHTML= student;
            }
        }


      });
    }
</script>
</body>
</html>